<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Cliente</title>
    <th:block th:replace="~{fragments/layout :: common_head}"></th:block>
    <meta charset="UTF-8" />
    
    <style>
        .text-danger { font-size: .9rem; }
    </style>
    
    <script>
        function voltarLista() { window.location.href = '/clientes'; }
    </script>
</head>
<body>
<nav style="margin-bottom: 20px;">
    <a class="btn btn-primary" th:href="@{/clientes}">Clientes</a>
    <a class="btn btn-primary" th:href="@{/pedidos}">Pedidos</a>
    <a class="btn btn-primary" th:href="@{/automoveis}">Automóveis</a>
    <a class="btn btn-primary" th:href="@{/agentes}">Agentes</a>
    <a class="btn btn-primary" th:href="@{/avaliacoes}">Avaliações</a>
    <a class="btn btn-success" th:href="@{/pedidos/novo}">Novo Pedido</a>
</nav>
<section class="container py-4">
<h1 th:text="${cliente.id} != null ? 'Editar Cliente' : 'Novo Cliente'"></h1>
<form th:action="@{${cliente.id} != null ? '/clientes/' + ${cliente.id} : '/clientes'}" th:object="${cliente}" method="post" class="row g-3">
    <div class="col-md-6">
        <label class="form-label">Nome Completo</label>
        <input class="form-control" th:field="*{nomeCompleto}" />
        <div class="text-danger" th:errors="*{nomeCompleto}"></div>
    </div>
    <div class="col-md-3">
        <label class="form-label">CPF</label>
        <input class="form-control" th:field="*{cpf}" />
        <div class="text-danger" th:errors="*{cpf}"></div>
    </div>
    <div class="col-md-3">
        <label class="form-label">RG</label>
        <input class="form-control" th:field="*{rg}" />
        <div class="text-danger" th:errors="*{rg}"></div>
    </div>
    <div class="col-md-4">
        <label class="form-label">Email</label>
        <input class="form-control" th:field="*{email}" />
        <div class="text-danger" th:errors="*{email}"></div>
    </div>
    <div class="col-md-4">
        <label class="form-label">Telefone</label>
        <input class="form-control" th:field="*{telefone}" />
        <div class="text-danger" th:errors="*{telefone}"></div>
    </div>
    <div class="col-md-4">
        <label class="form-label">Data de Nascimento</label>
        <input type="date" class="form-control" th:field="*{dataNascimento}" />
        <div class="text-danger" th:errors="*{dataNascimento}"></div>
    </div>
    <div class="col-md-12">
        <label class="form-label">Endereço</label>
        <input class="form-control" th:field="*{endereco}" />
        <div class="text-danger" th:errors="*{endereco}"></div>
    </div>
    <div class="col-md-6">
        <label class="form-label">Profissão</label>
        <input class="form-control" th:field="*{profissao}" />
        <div class="text-danger" th:errors="*{profissao}"></div>
    </div>
    <div class="col-md-6">
        <label class="form-label">Empregadores (resumo)</label>
        <input class="form-control" th:field="*{empregadoresResumo}" />
    </div>
    <div class="col-md-6">
        <label class="form-label">Rendimentos (resumo)</label>
        <input class="form-control" th:field="*{rendimentosResumo}" />
    </div>
    
    <!-- Empregadores detalhados -->
    <div class="col-12">
        <h5>Empregadores Detalhados</h5>
    </div>
    <div class="col-md-4">
        <label class="form-label">Empregador 1</label>
        <input class="form-control" th:field="*{empregador1}" />
    </div>
    <div class="col-md-4">
        <label class="form-label">Empregador 2</label>
        <input class="form-control" th:field="*{empregador2}" />
    </div>
    <div class="col-md-4">
        <label class="form-label">Empregador 3</label>
        <input class="form-control" th:field="*{empregador3}" />
    </div>
    
    <!-- Rendimentos detalhados -->
    <div class="col-12">
        <h5>Rendimentos Detalhados</h5>
    </div>
    <div class="col-md-4">
        <label class="form-label">Rendimento 1 (R$)</label>
        <input class="form-control" type="number" step="0.01" th:field="*{rendimento1}" />
    </div>
    <div class="col-md-4">
        <label class="form-label">Rendimento 2 (R$)</label>
        <input class="form-control" type="number" step="0.01" th:field="*{rendimento2}" />
    </div>
    <div class="col-md-4">
        <label class="form-label">Rendimento 3 (R$)</label>
        <input class="form-control" type="number" step="0.01" th:field="*{rendimento3}" />
    </div>
    <div class="col-md-6">
        <label class="form-label">Renda Total (R$)</label>
        <input class="form-control" type="number" step="0.01" th:field="*{rendaTotal}" readonly />
        <small class="form-text text-muted">Calculado automaticamente</small>
    </div>
    <div class="col-12">
        <button class="btn btn-secondary" type="button" onclick="voltarLista()">Cancelar</button>
        <button class="btn btn-primary" type="submit">Salvar</button>
    </div>
</form>
</section>
<th:block th:replace="~{fragments/layout :: common_scripts}"></th:block>
</body>
</html>


