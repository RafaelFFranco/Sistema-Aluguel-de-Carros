<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Novo Pedido de Aluguel</title>
    <th:block th:replace="~{fragments/layout :: common_head}"></th:block>
    <meta charset="UTF-8" />
</head>
<body>
<nav style="margin-bottom: 20px;">
    <a class="btn btn-primary" th:href="@{/clientes}">Clientes</a>
    <a class="btn btn-primary" th:href="@{/pedidos}">Pedidos</a>
    <a class="btn btn-primary" th:href="@{/automoveis}">Automóveis</a>
    <a class="btn btn-primary" th:href="@{/agentes}">Agentes</a>
    <a class="btn btn-primary" th:href="@{/avaliacoes}">Avaliações</a>
    <a class="btn btn-success" th:href="@{/pedidos/novo}">Novo Pedido</a>
</nav>
<section class="container py-4">
    <h1>Novo Pedido de Aluguel</h1>
    <div th:if="${msg}" class="alert alert-success" th:text="${msg}"></div>
    <div th:if="${erro}" class="alert alert-danger" th:text="${erro}"></div>
    
    <form th:action="@{/pedidos}" th:object="${pedidoAluguel}" method="post" class="row g-3">
        <div class="col-md-6">
            <label class="form-label">Cliente</label>
            <select class="form-select" th:field="*{cliente.id}" required>
                <option value="" disabled selected>Selecione um cliente</option>
                <option th:each="cliente : ${clientes}" 
                        th:value="${cliente.id}" 
                        th:text="${cliente.nomeCompleto + ' - ' + cliente.cpf}"></option>
            </select>
        </div>
        <div class="col-md-6">
            <label class="form-label">Automóvel</label>
            <select class="form-select" th:field="*{automovel.id}" required>
                <option value="" disabled selected>Selecione um automóvel</option>
                <option th:each="automovel : ${automoveis}" 
                        th:value="${automovel.id}" 
                        th:text="${automovel.marca + ' ' + automovel.modelo + ' - ' + automovel.placa}"></option>
            </select>
        </div>
        <div class="col-12">
            <button class="btn btn-secondary" type="button" onclick="window.location.href='/pedidos'">Cancelar</button>
            <button class="btn btn-primary" type="submit">Criar Pedido</button>
        </div>
    </form>
</section>
<th:block th:replace="~{fragments/layout :: common_scripts}"></th:block>
</body>
</html>
