<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Agente</title>
    <th:block th:replace="fragments/layout :: common_head"></th:block>
</head>
<body>
<nav style="margin-bottom: 20px;">
    <a class="btn btn-primary" th:href="@{/clientes}">Clientes</a>
    <a class="btn btn-primary" th:href="@{/pedidos}">Pedidos</a>
    <a class="btn btn-primary" th:href="@{/automoveis}">Automóveis</a>
    <a class="btn btn-primary" th:href="@{/agentes}">Agentes</a>
    <a class="btn btn-primary" th:href="@{/avaliacoes}">Avaliações</a>
    <a class="btn btn-success" th:href="@{/pedidos/novo}">Novo Pedido</a>
</nav>
<section class="container py-4">
    <h1 th:text="${agente.id != null ? 'Editar Agente' : 'Novo Agente'}">Novo Agente</h1>
    <div th:if="${msg}" class="alert alert-success" th:text="${msg}"></div>
    <div th:if="${erro}" class="alert alert-danger" th:text="${erro}"></div>
    
    <form th:action="${agente.id != null ? @{|/agentes/${agente.id}|} : @{/agentes}}" th:object="${agente}" method="post" class="row g-3">
        <div class="col-md-6">
            <label class="form-label">Nome</label>
            <input class="form-control" th:field="*{nome}" required />
            <div th:if="${#fields.hasErrors('nome')}" class="text-danger" th:errors="*{nome}"></div>
        </div>
        <div class="col-md-6">
            <label class="form-label">CNPJ</label>
            <input class="form-control" th:field="*{cnpj}" required />
            <div th:if="${#fields.hasErrors('cnpj')}" class="text-danger" th:errors="*{cnpj}"></div>
        </div>
        <div class="col-md-6">
            <label class="form-label">Email</label>
            <input class="form-control" type="email" th:field="*{email}" required />
            <div th:if="${#fields.hasErrors('email')}" class="text-danger" th:errors="*{email}"></div>
        </div>
        <div class="col-md-6">
            <label class="form-label">Telefone</label>
            <input class="form-control" th:field="*{telefone}" required />
            <div th:if="${#fields.hasErrors('telefone')}" class="text-danger" th:errors="*{telefone}"></div>
        </div>
        <div class="col-12">
            <label class="form-label">Endereço</label>
            <input class="form-control" th:field="*{endereco}" required />
            <div th:if="${#fields.hasErrors('endereco')}" class="text-danger" th:errors="*{endereco}"></div>
        </div>
        <div class="col-md-6">
            <label class="form-label">Tipo</label>
            <select class="form-select" th:field="*{tipo}" required>
                <option value="" disabled selected>Selecione o tipo</option>
                <option value="BANCO">Banco</option>
                <option value="EMPRESA">Empresa</option>
            </select>
        </div>
        <div class="col-md-6">
            <label class="form-label">Capital Social</label>
            <input class="form-control" type="number" step="0.01" th:field="*{capitalSocial}" required />
            <div th:if="${#fields.hasErrors('capitalSocial')}" class="text-danger" th:errors="*{capitalSocial}"></div>
        </div>
        <div class="col-md-6">
            <label class="form-label">Status</label>
            <select class="form-select" th:field="*{status}" required>
                <option value="ATIVO">Ativo</option>
                <option value="INATIVO">Inativo</option>
                <option value="SUSPENSO">Suspenso</option>
            </select>
        </div>
        <div class="col-12">
            <button class="btn btn-secondary" type="button" onclick="window.location.href='/agentes'">Cancelar</button>
            <button class="btn btn-primary" type="submit">Salvar</button>
        </div>
    </form>
</section>
<th:block th:replace="fragments/layout :: common_scripts"></th:block>
</body>
</html>

